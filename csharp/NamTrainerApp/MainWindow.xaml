<Window x:Class="NamTrainerApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="NAM Trainer - Standalone" Height="800" Width="1200" Background="#0f172a" Foreground="White">
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <StackPanel Orientation="Horizontal" Grid.Row="0" VerticalAlignment="Center" Margin="0 0 0 12">
            <TextBlock Text="Neural Amp Modeler" FontSize="28" FontWeight="Bold" />
            <TextBlock Text=" - Windows Trainer" Margin="12 0 0 0" FontSize="16" Opacity="0.8" />
        </StackPanel>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*" />
                <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>
            <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Column="0" Margin="0 0 12 0">
                <StackPanel>
                    <Border BorderBrush="#1f2937" BorderThickness="1" CornerRadius="8" Padding="12" Background="#111827" Margin="0 0 0 12">
                        <StackPanel>
                            <TextBlock Text="Source Audio" FontSize="20" FontWeight="SemiBold" Margin="0 0 0 8" />
                            <UniformGrid Columns="2" Rows="2" Margin="0 12 0 0" HorizontalAlignment="Stretch" VerticalAlignment="Center" >
                                <Button Content="Select DI Input" Click="OnSelectInput" Margin="0 0 8 0" Padding="8"/>
                                <TextBlock x:Name="InputInfo" Text="No input file selected" VerticalAlignment="Center" />
                                <Button Content="Select Reamped Output" Click="OnSelectOutput" Margin="0 0 8 0" Padding="8" />
                                <TextBlock x:Name="OutputInfo" Text="No output file selected" VerticalAlignment="Center" />
                            </UniformGrid>
                            <StackPanel Orientation="Horizontal" Margin="0 12 0 0" Spacing="8">
                                <Button Content="Inspect Files" Click="OnInspectFiles" Padding="8" />
                                <Button Content="Align Latency" Click="OnMeasureLatency" Padding="8" />
                                <Button Content="Upload Files" Click="OnUploadFiles" Padding="8" />
                            </StackPanel>
                            <TextBlock x:Name="InspectResults" Text="Waiting for inspection." Margin="0 12 0 0" TextWrapping="Wrap" />
                            <TextBlock x:Name="LatencyResults" Text="Latency not measured." Margin="0 4 0 0" TextWrapping="Wrap" />
                            <TextBlock x:Name="UploadResults" Text="Files not uploaded." Margin="0 4 0 0" TextWrapping="Wrap" />
                        </StackPanel>
                    </Border>

                    <Border BorderBrush="#1f2937" BorderThickness="1" CornerRadius="8" Padding="12" Background="#111827" Margin="0 0 0 12">
                        <StackPanel>
                            <TextBlock Text="Training Configuration" FontSize="20" FontWeight="SemiBold" />
                            <UniformGrid Columns="2" Rows="4" Margin="0 12 0 0" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                <TextBlock Text="Architecture" VerticalAlignment="Center" />
                                <ComboBox x:Name="ArchitectureCombo" SelectedIndex="0">
                                    <ComboBoxItem Content="standard" />
                                    <ComboBoxItem Content="dual" />
                                    <ComboBoxItem Content="fast" />
                                </ComboBox>
                                <TextBlock Text="Epochs" VerticalAlignment="Center" />
                                <TextBox x:Name="EpochsBox" Text="100" />
                                <TextBlock Text="Batch Size" VerticalAlignment="Center" />
                                <TextBox x:Name="BatchSizeBox" Text="64" />
                                <TextBlock Text="Learning Rate" VerticalAlignment="Center" />
                                <TextBox x:Name="LearningRateBox" Text="0.001" />
                            </UniformGrid>
                            <TextBlock Text="Device" Margin="0 12 0 4" />
                            <ComboBox x:Name="DeviceCombo" SelectedIndex="0" Width="180">
                                <ComboBoxItem Content="auto" />
                                <ComboBoxItem Content="cpu" />
                                <ComboBoxItem Content="cuda" />
                                <ComboBoxItem Content="mps" />
                            </ComboBox>
                            <TextBlock Text="Metadata" FontSize="16" FontWeight="SemiBold" Margin="0 12 0 4" />
                            <UniformGrid Columns="2" Rows="3" Margin="0 0 0 12">
                                <TextBlock Text="Modeled By" />
                                <TextBox x:Name="ModeledByBox" />
                                <TextBlock Text="Gear Make" />
                                <TextBox x:Name="GearMakeBox" />
                                <TextBlock Text="Gear Model" />
                                <TextBox x:Name="GearModelBox" />
                                <TextBlock Text="Tone Type" />
                                <TextBox x:Name="ToneTypeBox" />
                                <TextBlock Text="Tags (comma separated)" />
                                <TextBox x:Name="TagsBox" />
                            </UniformGrid>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <Button Content="Start Training" Click="OnStartTraining" Padding="8" />
                                <Button Content="Cancel Run" Click="OnCancelRun" Padding="8" />
                            </StackPanel>
                            <TextBlock x:Name="TrainingStatus" Text="No run started." Margin="0 8 0 0" TextWrapping="Wrap" />
                        </StackPanel>
                    </Border>

                    <Border BorderBrush="#1f2937" BorderThickness="1" CornerRadius="8" Padding="12" Background="#111827">
                        <StackPanel>
                            <TextBlock Text="Logs" FontSize="20" FontWeight="SemiBold" />
                            <ScrollViewer Height="180" VerticalScrollBarVisibility="Auto" Margin="0 8 0 0">
                                <TextBlock x:Name="LogBlock" Text="Session started." TextWrapping="Wrap" />
                            </ScrollViewer>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <Border Grid.Column="1" BorderBrush="#1f2937" BorderThickness="1" CornerRadius="8" Padding="12" Background="#111827">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TextBlock Text="Recent Runs" FontSize="20" FontWeight="SemiBold" />
                    <ListView x:Name="RunsList" Grid.Row="1" Margin="0 8 0 0" SelectionChanged="OnRunSelected">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="140" />
                                <GridViewColumn Header="Status" DisplayMemberBinding="{Binding Status}" Width="90" />
                                <GridViewColumn Header="Created" DisplayMemberBinding="{Binding CreatedAt}" Width="150" />
                                <GridViewColumn Header="Updated" DisplayMemberBinding="{Binding UpdatedAt}" Width="150" />
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <StackPanel Grid.Row="2" Margin="0 12 0 0" />
                    <TextBlock x:Name="RunDetails" Grid.Row="2" Margin="0 12 0 0" TextWrapping="Wrap" />
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
